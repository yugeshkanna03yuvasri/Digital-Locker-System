{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../../contexts/AuthContext';import{COLORS,formatFileSize}from'./DashboardUtils';import{Modal}from'../ui';import{XIcon,TrashIcon,DownloadIcon,FileTextIcon,HistoryIcon,ZapIcon,FolderIcon,EyeIcon,EditIcon}from'../ui';// Modal component is now imported from ui folder\n// New Folder Modal\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const NewFolderModal=_ref=>{let{isOpen,onClose,onCreateFolder}=_ref;const[folderName,setFolderName]=useState('');const handleSubmit=e=>{e.preventDefault();if(folderName.trim()){onCreateFolder(folderName.trim());setFolderName('');onClose();}};return/*#__PURE__*/_jsx(Modal,{title:\"Create New Folder\",isOpen:isOpen,onClose:onClose,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Folder Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:folderName,onChange:e=>setFolderName(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2\",style:{'--tw-ring-color':COLORS.primary},onFocus:e=>e.target.style.borderColor=COLORS.primary,onBlur:e=>e.target.style.borderColor='',placeholder:\"Enter folder name\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 rounded-lg font-semibold text-white transition shadow-md\",style:{backgroundColor:COLORS.primary},onMouseEnter:e=>e.target.style.backgroundColor=COLORS.primaryDark,onMouseLeave:e=>e.target.style.backgroundColor=COLORS.primary,disabled:!folderName.trim(),children:\"Create Folder\"})]})]})});};// Icons are now imported from ui folder\n// File Detail Modal with Enhanced Features\nexport const FileDetailModal=_ref2=>{let{file,isOpen,onClose,onDeleteFile,onDownloadFile,onRenameFile,onViewFile}=_ref2;const[isDeleting,setIsDeleting]=useState(false);const[isRenaming,setIsRenaming]=useState(false);const[newFileName,setNewFileName]=useState('');const[activeTab,setActiveTab]=useState('details');const[activityHistory,setActivityHistory]=useState([]);// Initialize rename field when modal opens\nReact.useEffect(()=>{if(file&&isOpen){setNewFileName(file.name||file.fileName||'');// Load activity history for this file\nloadFileActivity();}},[file,isOpen]);if(!file)return null;const loadFileActivity=()=>{if(!file)return;// Get real activity logs from localStorage or props\nconst allLogs=JSON.parse(localStorage.getItem('activityLogs')||'[]');const fileSpecificLogs=allLogs.filter(log=>{var _log$details,_log$details2;return((_log$details=log.details)===null||_log$details===void 0?void 0:_log$details.fileName)===(file.name||file.fileName)||((_log$details2=log.details)===null||_log$details2===void 0?void 0:_log$details2.fileId)===file.id;});setActivityHistory(fileSpecificLogs);};const handleDownload=()=>{onDownloadFile(file);};const handleView=()=>{if(onViewFile){onViewFile(file);}else{// Default view behavior - open in new tab\nif(file.fileUrl){window.open(file.fileUrl,'_blank');}else{alert('File preview not available');}}};const handleRename=async()=>{if(!newFileName.trim()||newFileName===(file.name||file.fileName)){setIsRenaming(false);return;}try{if(onRenameFile){await onRenameFile(file.id,newFileName.trim());// Update local file object immediately\nfile.name=newFileName.trim();file.fileName=newFileName.trim();}setIsRenaming(false);}catch(error){console.error('Failed to rename file:',error);alert('Failed to rename file');}};const confirmDelete=async()=>{if(!isDeleting){setIsDeleting(true);try{await onDeleteFile(file);onClose();}catch(error){console.error(\"Failed to delete file:\",error);}finally{setIsDeleting(false);}}};const getFileExtension=fileName=>{var _fileName$split$pop;return fileName?((_fileName$split$pop=fileName.split('.').pop())===null||_fileName$split$pop===void 0?void 0:_fileName$split$pop.toLowerCase())||'unknown':'unknown';};const getCorrectFileSize=()=>{const size=file.size||file.fileSize||0;return formatFileSize(size);};const getCorrectFileName=()=>{return file.name||file.fileName||'Unknown File';};const getCorrectFileType=()=>{const fileName=getCorrectFileName();const extension=getFileExtension(fileName);// Map extensions to readable types\nconst typeMap={'pdf':'PDF Document','doc':'Word Document','docx':'Word Document','xls':'Excel Spreadsheet','xlsx':'Excel Spreadsheet','ppt':'PowerPoint Presentation','pptx':'PowerPoint Presentation','jpg':'JPEG Image','jpeg':'JPEG Image','png':'PNG Image','gif':'GIF Image','txt':'Text File','zip':'ZIP Archive','rar':'RAR Archive','mp4':'MP4 Video','avi':'AVI Video','mp3':'MP3 Audio','wav':'WAV Audio'};return typeMap[extension]||file.fileType||\"\".concat(extension.toUpperCase(),\" File\");};return/*#__PURE__*/_jsx(Modal,{title:\"File Details\",isOpen:isOpen,onClose:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('details'),className:\"px-4 py-2 font-medium \".concat(activeTab==='details'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600'),children:\"Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('history'),className:\"px-4 py-2 font-medium \".concat(activeTab==='history'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600'),children:\"History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('activity'),className:\"px-4 py-2 font-medium \".concat(activeTab==='activity'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600'),children:\"Activity Logs\"})]}),activeTab==='details'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:isRenaming?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newFileName,onChange:e=>setNewFileName(e.target.value),className:\"text-sm border rounded px-2 py-1\",onKeyPress:e=>e.key==='Enter'&&handleRename(),autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRename,className:\"text-green-600 hover:text-green-800\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRenaming(false),className:\"text-red-600 hover:text-red-800\",children:\"\\u2715\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:getCorrectFileName()}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRenaming(true),className:\"text-blue-600 hover:text-blue-800\",title:\"Rename file\",children:/*#__PURE__*/_jsx(EditIcon,{className:\"h-4 w-4\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:getCorrectFileType()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Size\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:getCorrectFileSize()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"Upload Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:new Date(file.uploadedAt||file.uploadDate||Date.now()).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Extension\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm uppercase\",children:[\".\",getFileExtension(getCorrectFileName())]})]}),file.parentFolder&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"Location\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:file.parentFolder.name||'Root Folder'})]})]}),activeTab==='history'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-700\",children:\"File History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 max-h-60 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"File Uploaded\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:new Date(file.uploadedAt||file.uploadDate||Date.now()).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Last Accessed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:new Date().toLocaleString()})]})]})]}),activeTab==='activity'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-700\",children:\"Activity Logs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-60 overflow-y-auto\",children:activityHistory.map(activity=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:activity.action}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[\"by \",activity.user]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:new Date(activity.timestamp).toLocaleString()})]})},activity.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t mt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleView,className:\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md bg-blue-500 hover:bg-blue-600\",title:\"View File\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.onShowPasswordModal){window.onShowPasswordModal(file);}},className:\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md bg-yellow-500 hover:bg-yellow-600\",title:file.isPasswordProtected?'Update Password':'Protect File',children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.onShowShareModal){window.onShowShareModal(file);}},className:\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md bg-green-500 hover:bg-green-600\",title:\"Share File\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,className:\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md\",style:{backgroundColor:COLORS.primary},title:\"Download File\",children:/*#__PURE__*/_jsx(DownloadIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmDelete,disabled:isDeleting,className:\"flex items-center justify-center p-3 rounded-lg text-white transition bg-red-500 hover:bg-red-600 shadow-md disabled:opacity-50\",title:isDeleting?'Deleting...':'Delete File',children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-5 w-5\"})})]})})]})});};// Enhanced Sidebar Component with File Type Filters\nexport const Sidebar=_ref3=>{let{activeView,setActiveView,fileFilter,setFileFilter}=_ref3;const{user}=useAuth();// SVG Icons for file types\nconst PhotoIcon=_ref4=>{let{className}=_ref4;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})});};const DocumentIcon=_ref5=>{let{className}=_ref5;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})});};const VideoIcon=_ref6=>{let{className}=_ref6;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"})});};const AudioIcon=_ref7=>{let{className}=_ref7;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\"})});};const HomeIcon=_ref8=>{let{className}=_ref8;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})});};const navItems=[{name:'All Files',icon:FileTextIcon,filter:'all'},{name:'Folders',icon:FolderIcon,filter:'folders'},{name:'Photos',icon:PhotoIcon,filter:'photos'},{name:'Documents',icon:DocumentIcon,filter:'documents'},{name:'Videos',icon:VideoIcon,filter:'videos'},{name:'Audio',icon:AudioIcon,filter:'audio'}];const otherItems=[{name:'History',icon:HistoryIcon},{name:'Activity Logs',icon:ZapIcon}];return/*#__PURE__*/_jsxs(\"aside\",{className:\"w-64 flex-shrink-0 text-gray-800 flex flex-col p-4 shadow-xl bg-gradient-to-b\",style:{background:\"linear-gradient(to bottom, \".concat(COLORS.cardGradientFrom,\", \").concat(COLORS.cardGradientTo,\")\"),borderRight:\"1px solid \".concat(COLORS.cardBorder)},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold mb-6 flex items-center gap-2\",style:{color:COLORS.primary},children:[/*#__PURE__*/_jsx(FolderIcon,{className:\"h-7 w-7\"}),/*#__PURE__*/_jsx(\"span\",{children:\"File Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mb-8 p-2 rounded-lg break-all\",style:{backgroundColor:COLORS.primary,color:'white'},children:[\"User: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-xs\",children:(user===null||user===void 0?void 0:user.email)||'Guest'})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3 px-2\",children:\"Browse\"}),/*#__PURE__*/_jsx(\"ul\",{children:navItems.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setActiveView('My Files');setFileFilter(item.filter);},className:\"flex items-center gap-3 px-4 py-2.5 my-1 rounded-lg transition-colors duration-200 w-full text-left \".concat(activeView==='My Files'&&fileFilter===item.filter?'font-semibold shadow-md':'hover:bg-white hover:bg-opacity-20'),style:{backgroundColor:activeView==='My Files'&&fileFilter===item.filter?COLORS.primary:'transparent',color:activeView==='My Files'&&fileFilter===item.filter?'white':COLORS.textColor},children:[/*#__PURE__*/_jsx(item.icon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]})},item.name))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3 px-2\",children:\"Activity\"}),/*#__PURE__*/_jsx(\"ul\",{children:otherItems.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveView(item.name),className:\"flex items-center gap-3 px-4 py-2.5 my-1 rounded-lg transition-colors duration-200 w-full text-left \".concat(activeView===item.name?'font-semibold shadow-md':'hover:bg-white hover:bg-opacity-20'),style:{backgroundColor:activeView===item.name?COLORS.primary:'transparent',color:activeView===item.name?'white':COLORS.textColor},children:[/*#__PURE__*/_jsx(item.icon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]})},item.name))})]})]})]});};// Header Component\nexport const Header=_ref9=>{let{title,backendConnected}=_ref9;return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white sticky top-0 z-20 shadow-lg border-b border-gray-200 px-6 py-4 flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold\",style:{color:COLORS.primary},children:title}),!backendConnected&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full\",children:\"Offline Mode\"})]})});};// File Icon Component with Better Type Detection and Size Support\nexport const FileIconByType=_ref0=>{let{type,fileName,size='normal'}=_ref0;// Size classes\nconst sizeClasses={small:\"h-4 w-4\",normal:\"h-6 w-6 mr-3\",large:\"h-12 w-12\",xlarge:\"h-16 w-16\"};let iconClass=sizeClasses[size]||sizeClasses.normal;// Get file extension for better type detection\nconst getExtension=name=>{var _name$split$pop;if(!name)return'';return((_name$split$pop=name.split('.').pop())===null||_name$split$pop===void 0?void 0:_name$split$pop.toLowerCase())||'';};const extension=fileName?getExtension(fileName):'';// Enhanced type detection with larger emojis for grid view\nconst getIconSize=()=>size==='large'||size==='xlarge'?'text-4xl':'text-base';if(['jpg','jpeg','png','gif','bmp','svg','webp'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('image')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-blue-500 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83D\\uDDBC\\uFE0F\"});}if(['pdf'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('pdf')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-red-500 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83D\\uDCC4\"});}if(['doc','docx','txt','rtf'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('document')||type!==null&&type!==void 0&&type.toLowerCase().includes('word')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-green-600 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83D\\uDCDD\"});}if(['xls','xlsx','csv'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('excel')||type!==null&&type!==void 0&&type.toLowerCase().includes('spreadsheet')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-green-700 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83D\\uDCCA\"});}if(['ppt','pptx'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('powerpoint')||type!==null&&type!==void 0&&type.toLowerCase().includes('presentation')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-orange-600 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83D\\uDCFD\\uFE0F\"});}if(['zip','rar','7z','tar','gz'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('archive')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-yellow-600 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83D\\uDCE6\"});}if(['mp4','avi','mov','wmv','flv','webm'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('video')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-purple-600 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83C\\uDFA5\"});}if(['mp3','wav','flac','aac','ogg'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('audio')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-pink-600 flex items-center justify-center \").concat(getIconSize()),children:\"\\uD83C\\uDFB5\"});}return/*#__PURE__*/_jsx(FileTextIcon,{className:\"\".concat(iconClass,\" text-gray-500\")});};","map":{"version":3,"names":["React","useState","useAuth","COLORS","formatFileSize","Modal","XIcon","TrashIcon","DownloadIcon","FileTextIcon","HistoryIcon","ZapIcon","FolderIcon","EyeIcon","EditIcon","jsx","_jsx","jsxs","_jsxs","NewFolderModal","_ref","isOpen","onClose","onCreateFolder","folderName","setFolderName","handleSubmit","e","preventDefault","trim","title","children","onSubmit","className","type","value","onChange","target","style","primary","onFocus","borderColor","onBlur","placeholder","autoFocus","onClick","backgroundColor","onMouseEnter","primaryDark","onMouseLeave","disabled","FileDetailModal","_ref2","file","onDeleteFile","onDownloadFile","onRenameFile","onViewFile","isDeleting","setIsDeleting","isRenaming","setIsRenaming","newFileName","setNewFileName","activeTab","setActiveTab","activityHistory","setActivityHistory","useEffect","name","fileName","loadFileActivity","allLogs","JSON","parse","localStorage","getItem","fileSpecificLogs","filter","log","_log$details","_log$details2","details","fileId","id","handleDownload","handleView","fileUrl","window","open","alert","handleRename","error","console","confirmDelete","getFileExtension","_fileName$split$pop","split","pop","toLowerCase","getCorrectFileSize","size","fileSize","getCorrectFileName","getCorrectFileType","extension","typeMap","fileType","concat","toUpperCase","onKeyPress","key","Date","uploadedAt","uploadDate","now","toLocaleString","parentFolder","map","activity","action","user","timestamp","onShowPasswordModal","isPasswordProtected","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onShowShareModal","Sidebar","_ref3","activeView","setActiveView","fileFilter","setFileFilter","PhotoIcon","_ref4","DocumentIcon","_ref5","VideoIcon","_ref6","AudioIcon","_ref7","HomeIcon","_ref8","navItems","icon","otherItems","background","cardGradientFrom","cardGradientTo","borderRight","cardBorder","color","email","item","textColor","Header","_ref9","backendConnected","FileIconByType","_ref0","sizeClasses","small","normal","large","xlarge","iconClass","getExtension","_name$split$pop","getIconSize","includes"],"sources":["c:/Users/yuvasri/OneDrive/Desktop/Digital lock product/reactapp/src/components/dashboard/DashboardComponents.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { COLORS, formatFileSize } from './DashboardUtils';\nimport { Modal } from '../ui';\nimport { \n    XIcon, \n    TrashIcon, \n    DownloadIcon, \n    FileTextIcon, \n    HistoryIcon, \n    ZapIcon, \n    FolderIcon,\n    EyeIcon,\n    EditIcon\n} from '../ui';\n\n// Modal component is now imported from ui folder\n\n// New Folder Modal\nexport const NewFolderModal = ({ isOpen, onClose, onCreateFolder }) => {\n    const [folderName, setFolderName] = useState('');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (folderName.trim()) {\n            onCreateFolder(folderName.trim());\n            setFolderName('');\n            onClose();\n        }\n    };\n\n    return (\n        <Modal title=\"Create New Folder\" isOpen={isOpen} onClose={onClose}>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Folder Name\n                    </label>\n                    <input\n                        type=\"text\"\n                        value={folderName}\n                        onChange={(e) => setFolderName(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2\"\n                        style={{'--tw-ring-color': COLORS.primary}}\n                        onFocus={(e) => e.target.style.borderColor = COLORS.primary}\n                        onBlur={(e) => e.target.style.borderColor = ''}\n                        placeholder=\"Enter folder name\"\n                        autoFocus\n                    />\n                </div>\n                <div className=\"flex justify-end gap-3 pt-4\">\n                    <button\n                        type=\"button\"\n                        onClick={onClose}\n                        className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        type=\"submit\"\n                        className=\"px-4 py-2 rounded-lg font-semibold text-white transition shadow-md\"\n                        style={{backgroundColor: COLORS.primary}}\n                        onMouseEnter={(e) => e.target.style.backgroundColor = COLORS.primaryDark}\n                        onMouseLeave={(e) => e.target.style.backgroundColor = COLORS.primary}\n                        disabled={!folderName.trim()}\n                    >\n                        Create Folder\n                    </button>\n                </div>\n            </form>\n        </Modal>\n    );\n};\n\n// Icons are now imported from ui folder\n\n// File Detail Modal with Enhanced Features\nexport const FileDetailModal = ({ file, isOpen, onClose, onDeleteFile, onDownloadFile, onRenameFile, onViewFile }) => {\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [isRenaming, setIsRenaming] = useState(false);\n    const [newFileName, setNewFileName] = useState('');\n    const [activeTab, setActiveTab] = useState('details');\n    const [activityHistory, setActivityHistory] = useState([]);\n\n    // Initialize rename field when modal opens\n    React.useEffect(() => {\n        if (file && isOpen) {\n            setNewFileName(file.name || file.fileName || '');\n            // Load activity history for this file\n            loadFileActivity();\n        }\n    }, [file, isOpen]);\n\n    if (!file) return null;\n\n    const loadFileActivity = () => {\n        if (!file) return;\n        // Get real activity logs from localStorage or props\n        const allLogs = JSON.parse(localStorage.getItem('activityLogs') || '[]');\n        const fileSpecificLogs = allLogs.filter(log => \n            log.details?.fileName === (file.name || file.fileName) ||\n            log.details?.fileId === file.id\n        );\n        setActivityHistory(fileSpecificLogs);\n    };\n\n    const handleDownload = () => {\n        onDownloadFile(file);\n    };\n\n    const handleView = () => {\n        if (onViewFile) {\n            onViewFile(file);\n        } else {\n            // Default view behavior - open in new tab\n            if (file.fileUrl) {\n                window.open(file.fileUrl, '_blank');\n            } else {\n                alert('File preview not available');\n            }\n        }\n    };\n\n    const handleRename = async () => {\n        if (!newFileName.trim() || newFileName === (file.name || file.fileName)) {\n            setIsRenaming(false);\n            return;\n        }\n        \n        try {\n            if (onRenameFile) {\n                await onRenameFile(file.id, newFileName.trim());\n                // Update local file object immediately\n                file.name = newFileName.trim();\n                file.fileName = newFileName.trim();\n            }\n            setIsRenaming(false);\n        } catch (error) {\n            console.error('Failed to rename file:', error);\n            alert('Failed to rename file');\n        }\n    };\n\n    const confirmDelete = async () => {\n        if (!isDeleting) {\n            setIsDeleting(true);\n            try {\n                await onDeleteFile(file);\n                onClose();\n            } catch (error) {\n                console.error(\"Failed to delete file:\", error);\n            } finally {\n                setIsDeleting(false);\n            }\n        }\n    };\n\n    const getFileExtension = (fileName) => {\n        return fileName ? fileName.split('.').pop()?.toLowerCase() || 'unknown' : 'unknown';\n    };\n\n    const getCorrectFileSize = () => {\n        const size = file.size || file.fileSize || 0;\n        return formatFileSize(size);\n    };\n\n    const getCorrectFileName = () => {\n        return file.name || file.fileName || 'Unknown File';\n    };\n\n    const getCorrectFileType = () => {\n        const fileName = getCorrectFileName();\n        const extension = getFileExtension(fileName);\n        \n        // Map extensions to readable types\n        const typeMap = {\n            'pdf': 'PDF Document',\n            'doc': 'Word Document', 'docx': 'Word Document',\n            'xls': 'Excel Spreadsheet', 'xlsx': 'Excel Spreadsheet',\n            'ppt': 'PowerPoint Presentation', 'pptx': 'PowerPoint Presentation',\n            'jpg': 'JPEG Image', 'jpeg': 'JPEG Image', 'png': 'PNG Image', 'gif': 'GIF Image',\n            'txt': 'Text File',\n            'zip': 'ZIP Archive', 'rar': 'RAR Archive',\n            'mp4': 'MP4 Video', 'avi': 'AVI Video',\n            'mp3': 'MP3 Audio', 'wav': 'WAV Audio'\n        };\n        \n        return typeMap[extension] || file.fileType || `${extension.toUpperCase()} File`;\n    };\n\n    return (\n        <Modal title={`File Details`} isOpen={isOpen} onClose={onClose}>\n            <div className=\"space-y-4\">\n                {/* Tab Navigation */}\n                <div className=\"flex border-b\">\n                    <button\n                        onClick={() => setActiveTab('details')}\n                        className={`px-4 py-2 font-medium ${activeTab === 'details' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'}`}\n                    >\n                        Details\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('history')}\n                        className={`px-4 py-2 font-medium ${activeTab === 'history' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'}`}\n                    >\n                        History\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('activity')}\n                        className={`px-4 py-2 font-medium ${activeTab === 'activity' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'}`}\n                    >\n                        Activity Logs\n                    </button>\n                </div>\n\n                {/* Tab Content */}\n                {activeTab === 'details' && (\n                    <div className=\"space-y-4\">\n                        {/* File Name with Rename */}\n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Name</p>\n                            <div className=\"flex items-center gap-2\">\n                                {isRenaming ? (\n                                    <div className=\"flex items-center gap-2\">\n                                        <input\n                                            type=\"text\"\n                                            value={newFileName}\n                                            onChange={(e) => setNewFileName(e.target.value)}\n                                            className=\"text-sm border rounded px-2 py-1\"\n                                            onKeyPress={(e) => e.key === 'Enter' && handleRename()}\n                                            autoFocus\n                                        />\n                                        <button onClick={handleRename} className=\"text-green-600 hover:text-green-800\">\n                                            ✓\n                                        </button>\n                                        <button onClick={() => setIsRenaming(false)} className=\"text-red-600 hover:text-red-800\">\n                                            ✕\n                                        </button>\n                                    </div>\n                                ) : (\n                                    <div className=\"flex items-center gap-2\">\n                                        <p className=\"text-sm\">{getCorrectFileName()}</p>\n                                        <button\n                                            onClick={() => setIsRenaming(true)}\n                                            className=\"text-blue-600 hover:text-blue-800\"\n                                            title=\"Rename file\"\n                                        >\n                                            <EditIcon className=\"h-4 w-4\" />\n                                        </button>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Type</p>\n                            <p className=\"text-sm\">{getCorrectFileType()}</p>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Size</p>\n                            <p className=\"text-sm\">{getCorrectFileSize()}</p>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">Upload Date</p>\n                            <p className=\"text-sm\">{new Date(file.uploadedAt || file.uploadDate || Date.now()).toLocaleString()}</p>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Extension</p>\n                            <p className=\"text-sm uppercase\">.{getFileExtension(getCorrectFileName())}</p>\n                        </div>\n                        \n                        {file.parentFolder && (\n                            <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                                <p className=\"font-semibold text-sm\">Location</p>\n                                <p className=\"text-sm\">{file.parentFolder.name || 'Root Folder'}</p>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {activeTab === 'history' && (\n                    <div className=\"space-y-3\">\n                        <h4 className=\"font-semibold text-gray-700\">File History</h4>\n                        <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                            <div className=\"p-3 bg-gray-50 rounded-lg\">\n                                <p className=\"text-sm font-medium\">File Uploaded</p>\n                                <p className=\"text-xs text-gray-600\">{new Date(file.uploadedAt || file.uploadDate || Date.now()).toLocaleString()}</p>\n                            </div>\n                            <div className=\"p-3 bg-gray-50 rounded-lg\">\n                                <p className=\"text-sm font-medium\">Last Accessed</p>\n                                <p className=\"text-xs text-gray-600\">{new Date().toLocaleString()}</p>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {activeTab === 'activity' && (\n                    <div className=\"space-y-3\">\n                        <h4 className=\"font-semibold text-gray-700\">Activity Logs</h4>\n                        <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                            {activityHistory.map(activity => (\n                                <div key={activity.id} className=\"p-3 bg-gray-50 rounded-lg\">\n                                    <div className=\"flex justify-between items-start\">\n                                        <div>\n                                            <p className=\"text-sm font-medium\">{activity.action}</p>\n                                            <p className=\"text-xs text-gray-600\">by {activity.user}</p>\n                                        </div>\n                                        <p className=\"text-xs text-gray-500\">\n                                            {new Date(activity.timestamp).toLocaleString()}\n                                        </p>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {/* Action Buttons - Single Row with Icons */}\n                <div className=\"pt-4 border-t mt-6\">\n                    <div className=\"flex justify-center gap-3\">\n                        <button\n                            onClick={handleView}\n                            className=\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md bg-blue-500 hover:bg-blue-600\"\n                            title=\"View File\"\n                        >\n                            <EyeIcon className=\"h-5 w-5\" />\n                        </button>\n                        <button\n                            onClick={() => {\n                                if (window.onShowPasswordModal) {\n                                    window.onShowPasswordModal(file);\n                                }\n                            }}\n                            className=\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md bg-yellow-500 hover:bg-yellow-600\"\n                            title={file.isPasswordProtected ? 'Update Password' : 'Protect File'}\n                        >\n                            <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                            </svg>\n                        </button>\n                        <button\n                            onClick={() => {\n                                if (window.onShowShareModal) {\n                                    window.onShowShareModal(file);\n                                }\n                            }}\n                            className=\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md bg-green-500 hover:bg-green-600\"\n                            title=\"Share File\"\n                        >\n                            <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\n                            </svg>\n                        </button>\n                        <button\n                            onClick={handleDownload}\n                            className=\"flex items-center justify-center p-3 rounded-lg text-white transition shadow-md\"\n                            style={{backgroundColor: COLORS.primary}}\n                            title=\"Download File\"\n                        >\n                            <DownloadIcon className=\"h-5 w-5\" />\n                        </button>\n                        <button\n                            onClick={confirmDelete}\n                            disabled={isDeleting}\n                            className=\"flex items-center justify-center p-3 rounded-lg text-white transition bg-red-500 hover:bg-red-600 shadow-md disabled:opacity-50\"\n                            title={isDeleting ? 'Deleting...' : 'Delete File'}\n                        >\n                            <TrashIcon className=\"h-5 w-5\" />\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\n// Enhanced Sidebar Component with File Type Filters\nexport const Sidebar = ({ activeView, setActiveView, fileFilter, setFileFilter }) => {\n    const { user } = useAuth();\n\n    // SVG Icons for file types\n    const PhotoIcon = ({ className }) => (\n        <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n        </svg>\n    );\n\n    const DocumentIcon = ({ className }) => (\n        <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n        </svg>\n    );\n\n    const VideoIcon = ({ className }) => (\n        <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n        </svg>\n    );\n\n    const AudioIcon = ({ className }) => (\n        <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3\" />\n        </svg>\n    );\n\n    const HomeIcon = ({ className }) => (\n        <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n        </svg>\n    );\n\n    const navItems = [\n        { name: 'All Files', icon: FileTextIcon, filter: 'all' },\n        { name: 'Folders', icon: FolderIcon, filter: 'folders' },\n        { name: 'Photos', icon: PhotoIcon, filter: 'photos' },\n        { name: 'Documents', icon: DocumentIcon, filter: 'documents' },\n        { name: 'Videos', icon: VideoIcon, filter: 'videos' },\n        { name: 'Audio', icon: AudioIcon, filter: 'audio' },\n    ];\n\n    const otherItems = [\n        { name: 'History', icon: HistoryIcon },\n        { name: 'Activity Logs', icon: ZapIcon },\n    ];\n    \n    return (\n        <aside className=\"w-64 flex-shrink-0 text-gray-800 flex flex-col p-4 shadow-xl bg-gradient-to-b\" style={{background: `linear-gradient(to bottom, ${COLORS.cardGradientFrom}, ${COLORS.cardGradientTo})`, borderRight: `1px solid ${COLORS.cardBorder}`}}>\n            <div className=\"text-2xl font-bold mb-6 flex items-center gap-2\" style={{color: COLORS.primary}}>\n                <FolderIcon className=\"h-7 w-7\" />\n                <span>File Dashboard</span>\n            </div>\n            <div className=\"text-xs mb-8 p-2 rounded-lg break-all\" style={{backgroundColor: COLORS.primary, color: 'white'}}>\n                User: <span className=\"font-mono text-xs\">{user?.email || 'Guest'}</span>\n            </div>\n            <nav className=\"flex-grow\">\n                {/* File Type Filters */}\n                <div className=\"mb-6\">\n                    <h3 className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3 px-2\">Browse</h3>\n                    <ul>\n                        {navItems.map(item => (\n                            <li key={item.name}>\n                                <button\n                                    onClick={() => {\n                                        setActiveView('My Files');\n                                        setFileFilter(item.filter);\n                                    }}\n                                    className={`flex items-center gap-3 px-4 py-2.5 my-1 rounded-lg transition-colors duration-200 w-full text-left ${\n                                        activeView === 'My Files' && fileFilter === item.filter\n                                            ? 'font-semibold shadow-md'\n                                            : 'hover:bg-white hover:bg-opacity-20'\n                                    }`}\n                                    style={{\n                                        backgroundColor: activeView === 'My Files' && fileFilter === item.filter ? COLORS.primary : 'transparent',\n                                        color: activeView === 'My Files' && fileFilter === item.filter ? 'white' : COLORS.textColor\n                                    }}\n                                >\n                                    <item.icon className=\"h-5 w-5\"/>\n                                    <span>{item.name}</span>\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n\n                {/* Other Views */}\n                <div>\n                    <h3 className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3 px-2\">Activity</h3>\n                    <ul>\n                        {otherItems.map(item => (\n                            <li key={item.name}>\n                                <button\n                                    onClick={() => setActiveView(item.name)}\n                                    className={`flex items-center gap-3 px-4 py-2.5 my-1 rounded-lg transition-colors duration-200 w-full text-left ${\n                                        activeView === item.name\n                                            ? 'font-semibold shadow-md'\n                                            : 'hover:bg-white hover:bg-opacity-20'\n                                    }`}\n                                    style={{\n                                        backgroundColor: activeView === item.name ? COLORS.primary : 'transparent',\n                                        color: activeView === item.name ? 'white' : COLORS.textColor\n                                    }}\n                                >\n                                    <item.icon className=\"h-5 w-5\"/>\n                                    <span>{item.name}</span>\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </nav>\n        </aside>\n    );\n};\n\n// Header Component\nexport const Header = ({ title, backendConnected }) => {\n    \n    return (\n        <header className=\"bg-white sticky top-0 z-20 shadow-lg border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n            <div className=\"flex items-center gap-4\">\n                <h1 className=\"text-2xl font-semibold\" style={{color: COLORS.primary}}>{title}</h1>\n                {!backendConnected && (\n                    <span className=\"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full\">\n                        Offline Mode\n                    </span>\n                )}\n            </div>\n        </header>\n    );\n};\n\n// File Icon Component with Better Type Detection and Size Support\nexport const FileIconByType = ({ type, fileName, size = 'normal' }) => {\n    // Size classes\n    const sizeClasses = {\n        small: \"h-4 w-4\",\n        normal: \"h-6 w-6 mr-3\",\n        large: \"h-12 w-12\",\n        xlarge: \"h-16 w-16\"\n    };\n    \n    let iconClass = sizeClasses[size] || sizeClasses.normal;\n    \n    // Get file extension for better type detection\n    const getExtension = (name) => {\n        if (!name) return '';\n        return name.split('.').pop()?.toLowerCase() || '';\n    };\n    \n    const extension = fileName ? getExtension(fileName) : '';\n    \n    // Enhanced type detection with larger emojis for grid view\n    const getIconSize = () => size === 'large' || size === 'xlarge' ? 'text-4xl' : 'text-base';\n    \n    if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp'].includes(extension) || type?.toLowerCase().includes('image')) {\n        return <div className={`${iconClass} text-blue-500 flex items-center justify-center ${getIconSize()}`}>🖼️</div>;\n    }\n    if (['pdf'].includes(extension) || type?.toLowerCase().includes('pdf')) {\n        return <div className={`${iconClass} text-red-500 flex items-center justify-center ${getIconSize()}`}>📄</div>;\n    }\n    if (['doc', 'docx', 'txt', 'rtf'].includes(extension) || type?.toLowerCase().includes('document') || type?.toLowerCase().includes('word')) {\n        return <div className={`${iconClass} text-green-600 flex items-center justify-center ${getIconSize()}`}>📝</div>;\n    }\n    if (['xls', 'xlsx', 'csv'].includes(extension) || type?.toLowerCase().includes('excel') || type?.toLowerCase().includes('spreadsheet')) {\n        return <div className={`${iconClass} text-green-700 flex items-center justify-center ${getIconSize()}`}>📊</div>;\n    }\n    if (['ppt', 'pptx'].includes(extension) || type?.toLowerCase().includes('powerpoint') || type?.toLowerCase().includes('presentation')) {\n        return <div className={`${iconClass} text-orange-600 flex items-center justify-center ${getIconSize()}`}>📽️</div>;\n    }\n    if (['zip', 'rar', '7z', 'tar', 'gz'].includes(extension) || type?.toLowerCase().includes('archive')) {\n        return <div className={`${iconClass} text-yellow-600 flex items-center justify-center ${getIconSize()}`}>📦</div>;\n    }\n    if (['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm'].includes(extension) || type?.toLowerCase().includes('video')) {\n        return <div className={`${iconClass} text-purple-600 flex items-center justify-center ${getIconSize()}`}>🎥</div>;\n    }\n    if (['mp3', 'wav', 'flac', 'aac', 'ogg'].includes(extension) || type?.toLowerCase().includes('audio')) {\n        return <div className={`${iconClass} text-pink-600 flex items-center justify-center ${getIconSize()}`}>🎵</div>;\n    }\n    \n    return <FileTextIcon className={`${iconClass} text-gray-500`} />;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}