{"ast":null,"code":"import React,{useState,useEffect}from'react';import{documentAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileViewer=_ref=>{let{file,isOpen,onClose}=_ref;const[fileContent,setFileContent]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{if(isOpen&&file){loadFileContent();}},[isOpen,file]);const loadFileContent=async()=>{setLoading(true);setError(null);try{const fileExtension=getFileExtension(file.name||file.fileName);// Check if user has access token\nconst token=localStorage.getItem('accessToken');if(!token){throw new Error('Authentication required');}// Use authenticated API call to get file content\nconst response=await documentAPI.downloadDocument(file.id);// Handle different response types\nlet blob;if(response.data instanceof Blob){blob=response.data;}else{blob=new Blob([response.data]);}const url=URL.createObjectURL(blob);setFileContent({type:fileExtension,url,blob});}catch(err){var _err$response,_err$response2;console.error('Error loading file:',err);if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401){setError('Authentication failed. Please login again.');}else if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===403){setError('Access denied. You do not have permission to view this file.');}else{setError('Failed to load file content: '+(err.message||'Unknown error'));}}finally{setLoading(false);}};const getFileExtension=fileName=>{var _fileName$split$pop;return fileName?((_fileName$split$pop=fileName.split('.').pop())===null||_fileName$split$pop===void 0?void 0:_fileName$split$pop.toLowerCase())||'':'';};const isPreviewable=extension=>{const previewableTypes=['jpg','jpeg','png','gif','bmp','svg','webp',// Images\n'pdf',// PDF\n'txt','md','json','xml','csv'// Text files\n];return previewableTypes.includes(extension);};const renderFileContent=()=>{if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-96\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading file...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-96\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-red-600\",children:/*#__PURE__*/_jsx(\"p\",{children:error})})});}if(!fileContent)return null;const{type,url}=fileContent;// Image preview\nif(['jpg','jpeg','png','gif','bmp','svg','webp'].includes(type)){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:url,alt:file.name||file.fileName,className:\"max-w-full max-h-96 mx-auto rounded-lg shadow-md\",style:{objectFit:'contain'}})});}// PDF preview\nif(type==='pdf'){return/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-96\",children:/*#__PURE__*/_jsx(\"iframe\",{src:\"\".concat(url,\"#toolbar=1&navpanes=1&scrollbar=1\"),className:\"w-full h-full border rounded-lg\",title:file.name||file.fileName})});}// Text file preview\nif(['txt','md','json','xml','csv'].includes(type)){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg h-96 overflow-auto\",children:/*#__PURE__*/_jsx(\"iframe\",{src:url,className:\"w-full h-full border-0\",title:file.name||file.fileName,style:{backgroundColor:'white'}})});}// Download only files\nif(type==='download-only'){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-96\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium mb-4\",children:\"Preview not available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-4\",children:\"This file type cannot be previewed in browser.\"}),/*#__PURE__*/_jsx(\"a\",{href:url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition inline-block\",children:\"Open/Download File\"})]})});}// Not previewable\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-96\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium mb-2\",children:\"Preview not available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"This file type cannot be previewed. Please download to view.\"})]})});};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b flex justify-between items-center bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:file.name||file.fileName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[file.fileType,\" \\u2022 \",file.size?\"\".concat((file.size/1024).toFixed(1),\" KB\"):'Unknown size']})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-200 transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-auto max-h-[calc(90vh-120px)]\",children:renderFileContent()}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t bg-gray-50 flex justify-end gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Trigger download\nif(fileContent!==null&&fileContent!==void 0&&fileContent.url){const link=document.createElement('a');link.href=fileContent.url;link.download=file.name||file.fileName;document.body.appendChild(link);link.click();document.body.removeChild(link);}},className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\",children:\"Download\"})]})]})});};export default FileViewer;","map":{"version":3,"names":["React","useState","useEffect","documentAPI","jsx","_jsx","jsxs","_jsxs","FileViewer","_ref","file","isOpen","onClose","fileContent","setFileContent","loading","setLoading","error","setError","loadFileContent","fileExtension","getFileExtension","name","fileName","token","localStorage","getItem","Error","response","downloadDocument","id","blob","data","Blob","url","URL","createObjectURL","type","err","_err$response","_err$response2","console","status","message","_fileName$split$pop","split","pop","toLowerCase","isPreviewable","extension","previewableTypes","includes","renderFileContent","className","children","src","alt","style","objectFit","concat","title","backgroundColor","href","target","rel","fileType","size","toFixed","onClick","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","link","document","createElement","download","body","appendChild","click","removeChild"],"sources":["c:/Users/yuvasri/OneDrive/Desktop/Digital lock product/reactapp/src/components/viewers/FileViewer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { documentAPI } from '../../services/api';\n\nconst FileViewer = ({ file, isOpen, onClose }) => {\n    const [fileContent, setFileContent] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        if (isOpen && file) {\n            loadFileContent();\n        }\n    }, [isOpen, file]);\n\n    const loadFileContent = async () => {\n        setLoading(true);\n        setError(null);\n        \n        try {\n            const fileExtension = getFileExtension(file.name || file.fileName);\n            \n            // Check if user has access token\n            const token = localStorage.getItem('accessToken');\n            if (!token) {\n                throw new Error('Authentication required');\n            }\n            \n            // Use authenticated API call to get file content\n            const response = await documentAPI.downloadDocument(file.id);\n            \n            // Handle different response types\n            let blob;\n            if (response.data instanceof Blob) {\n                blob = response.data;\n            } else {\n                blob = new Blob([response.data]);\n            }\n            \n            const url = URL.createObjectURL(blob);\n            \n            setFileContent({ type: fileExtension, url, blob });\n        } catch (err) {\n            console.error('Error loading file:', err);\n            if (err.response?.status === 401) {\n                setError('Authentication failed. Please login again.');\n            } else if (err.response?.status === 403) {\n                setError('Access denied. You do not have permission to view this file.');\n            } else {\n                setError('Failed to load file content: ' + (err.message || 'Unknown error'));\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const getFileExtension = (fileName) => {\n        return fileName ? fileName.split('.').pop()?.toLowerCase() || '' : '';\n    };\n\n    const isPreviewable = (extension) => {\n        const previewableTypes = [\n            'jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp', // Images\n            'pdf', // PDF\n            'txt', 'md', 'json', 'xml', 'csv', // Text files\n        ];\n        return previewableTypes.includes(extension);\n    };\n\n    const renderFileContent = () => {\n        if (loading) {\n            return (\n                <div className=\"flex items-center justify-center h-96\">\n                    <div className=\"text-center\">\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n                        <p>Loading file...</p>\n                    </div>\n                </div>\n            );\n        }\n\n        if (error) {\n            return (\n                <div className=\"flex items-center justify-center h-96\">\n                    <div className=\"text-center text-red-600\">\n                        <p>{error}</p>\n                    </div>\n                </div>\n            );\n        }\n\n        if (!fileContent) return null;\n\n        const { type, url } = fileContent;\n\n        // Image preview\n        if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp'].includes(type)) {\n            return (\n                <div className=\"text-center\">\n                    <img \n                        src={url} \n                        alt={file.name || file.fileName}\n                        className=\"max-w-full max-h-96 mx-auto rounded-lg shadow-md\"\n                        style={{ objectFit: 'contain' }}\n                    />\n                </div>\n            );\n        }\n\n        // PDF preview\n        if (type === 'pdf') {\n            return (\n                <div className=\"w-full h-96\">\n                    <iframe\n                        src={`${url}#toolbar=1&navpanes=1&scrollbar=1`}\n                        className=\"w-full h-full border rounded-lg\"\n                        title={file.name || file.fileName}\n                    />\n                </div>\n            );\n        }\n\n        // Text file preview\n        if (['txt', 'md', 'json', 'xml', 'csv'].includes(type)) {\n            return (\n                <div className=\"bg-gray-50 p-4 rounded-lg h-96 overflow-auto\">\n                    <iframe\n                        src={url}\n                        className=\"w-full h-full border-0\"\n                        title={file.name || file.fileName}\n                        style={{ backgroundColor: 'white' }}\n                    />\n                </div>\n            );\n        }\n\n        // Download only files\n        if (type === 'download-only') {\n            return (\n                <div className=\"flex items-center justify-center h-96\">\n                    <div className=\"text-center text-gray-600\">\n                        <div className=\"text-6xl mb-4\">ðŸ“„</div>\n                        <p className=\"text-lg font-medium mb-4\">Preview not available</p>\n                        <p className=\"text-sm mb-4\">This file type cannot be previewed in browser.</p>\n                        <a \n                            href={url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition inline-block\"\n                        >\n                            Open/Download File\n                        </a>\n                    </div>\n                </div>\n            );\n        }\n        \n        // Not previewable\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center text-gray-600\">\n                    <div className=\"text-6xl mb-4\">ðŸ“„</div>\n                    <p className=\"text-lg font-medium mb-2\">Preview not available</p>\n                    <p className=\"text-sm\">This file type cannot be previewed. Please download to view.</p>\n                </div>\n            </div>\n        );\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n                {/* Header */}\n                <div className=\"p-4 border-b flex justify-between items-center bg-gray-50\">\n                    <div>\n                        <h3 className=\"text-lg font-semibold text-gray-800\">\n                            {file.name || file.fileName}\n                        </h3>\n                        <p className=\"text-sm text-gray-600\">\n                            {file.fileType} â€¢ {file.size ? `${(file.size / 1024).toFixed(1)} KB` : 'Unknown size'}\n                        </p>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-200 transition\"\n                    >\n                        <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"p-6 overflow-auto max-h-[calc(90vh-120px)]\">\n                    {renderFileContent()}\n                </div>\n\n                {/* Footer */}\n                <div className=\"p-4 border-t bg-gray-50 flex justify-end gap-3\">\n                    <button\n                        onClick={onClose}\n                        className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition\"\n                    >\n                        Close\n                    </button>\n                    <button\n                        onClick={() => {\n                            // Trigger download\n                            if (fileContent?.url) {\n                                const link = document.createElement('a');\n                                link.href = fileContent.url;\n                                link.download = file.name || file.fileName;\n                                document.body.appendChild(link);\n                                link.click();\n                                document.body.removeChild(link);\n                            }\n                        }}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\n                    >\n                        Download\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default FileViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}