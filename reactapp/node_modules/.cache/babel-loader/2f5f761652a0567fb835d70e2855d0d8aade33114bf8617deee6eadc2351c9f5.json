{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yuvasri\\\\OneDrive\\\\Desktop\\\\Digital lock product\\\\reactapp\\\\src\\\\components\\\\viewers\\\\FileViewer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { documentAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileViewer = ({\n  file,\n  isOpen,\n  onClose\n}) => {\n  _s();\n  const [fileContent, setFileContent] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (isOpen && file) {\n      loadFileContent();\n    }\n  }, [isOpen, file]);\n  const loadFileContent = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const fileExtension = getFileExtension(file.name || file.fileName);\n\n      // Check if user has access token\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        throw new Error('Authentication required');\n      }\n\n      // Use authenticated API call to get file content\n      const response = await documentAPI.downloadDocument(file.id);\n\n      // Handle different response types\n      let blob;\n      if (response.data instanceof Blob) {\n        blob = response.data;\n      } else {\n        blob = new Blob([response.data]);\n      }\n      const url = URL.createObjectURL(blob);\n      setFileContent({\n        type: fileExtension,\n        url,\n        blob\n      });\n    } catch (err) {\n      var _err$response, _err$response2;\n      console.error('Error loading file:', err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n        setError('Authentication failed. Please login again.');\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 403) {\n        setError('Access denied. You do not have permission to view this file.');\n      } else {\n        setError('Failed to load file content: ' + (err.message || 'Unknown error'));\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getFileExtension = fileName => {\n    var _fileName$split$pop;\n    return fileName ? ((_fileName$split$pop = fileName.split('.').pop()) === null || _fileName$split$pop === void 0 ? void 0 : _fileName$split$pop.toLowerCase()) || '' : '';\n  };\n  const isPreviewable = extension => {\n    const previewableTypes = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp',\n    // Images\n    'pdf',\n    // PDF\n    'txt', 'md', 'json', 'xml', 'csv' // Text files\n    ];\n    return previewableTypes.includes(extension);\n  };\n  const renderFileContent = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-96\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading file...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this);\n    }\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-96\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-red-600\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this);\n    }\n    if (!fileContent) return null;\n    const {\n      type,\n      url\n    } = fileContent;\n\n    // Image preview\n    if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp'].includes(type)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: url,\n          alt: file.name || file.fileName,\n          className: \"max-w-full max-h-96 mx-auto rounded-lg shadow-md\",\n          style: {\n            objectFit: 'contain'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this);\n    }\n\n    // PDF preview\n    if (type === 'pdf') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-96\",\n        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: `${url}#toolbar=1&navpanes=1&scrollbar=1`,\n          className: \"w-full h-full border rounded-lg\",\n          title: file.name || file.fileName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this);\n    }\n\n    // Text file preview\n    if (['txt', 'md', 'json', 'xml', 'csv'].includes(type)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 p-4 rounded-lg h-96 overflow-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: url,\n          className: \"w-full h-full border-0\",\n          title: file.name || file.fileName,\n          style: {\n            backgroundColor: 'white'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this);\n    }\n\n    // Download only files\n    if (type === 'download-only') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-96\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-6xl mb-4\",\n            children: \"\\uD83D\\uDCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium mb-4\",\n            children: \"Preview not available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm mb-4\",\n            children: \"This file type cannot be previewed in browser.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: url,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition inline-block\",\n            children: \"Open/Download File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this);\n    }\n\n    // Not previewable\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-96\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-6xl mb-4\",\n          children: \"\\uD83D\\uDCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-medium mb-2\",\n          children: \"Preview not available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: \"This file type cannot be previewed. Please download to view.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this);\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex justify-between items-center bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800\",\n            children: file.name || file.fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [file.fileType, \" \\u2022 \", file.size ? `${(file.size / 1024).toFixed(1)} KB` : 'Unknown size']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-200 transition\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-6 w-6\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 overflow-auto max-h-[calc(90vh-120px)]\",\n        children: renderFileContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t bg-gray-50 flex justify-end gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-gray-600 hover:text-gray-800 transition\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            // Trigger download\n            if (fileContent !== null && fileContent !== void 0 && fileContent.url) {\n              const link = document.createElement('a');\n              link.href = fileContent.url;\n              link.download = file.name || file.fileName;\n              document.body.appendChild(link);\n              link.click();\n              document.body.removeChild(link);\n            }\n          },\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\",\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 9\n  }, this);\n};\n_s(FileViewer, \"3wi8voWpPobyJZsxwRxOOkx6WvI=\");\n_c = FileViewer;\nexport default FileViewer;\nvar _c;\n$RefreshReg$(_c, \"FileViewer\");","map":{"version":3,"names":["React","useState","useEffect","documentAPI","jsxDEV","_jsxDEV","FileViewer","file","isOpen","onClose","_s","fileContent","setFileContent","loading","setLoading","error","setError","loadFileContent","fileExtension","getFileExtension","name","fileName","token","localStorage","getItem","Error","response","downloadDocument","id","blob","data","Blob","url","URL","createObjectURL","type","err","_err$response","_err$response2","console","status","message","_fileName$split$pop","split","pop","toLowerCase","isPreviewable","extension","previewableTypes","includes","renderFileContent","className","children","_jsxFileName","lineNumber","columnNumber","src","alt","style","objectFit","title","backgroundColor","href","target","rel","fileType","size","toFixed","onClick","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","link","document","createElement","download","body","appendChild","click","removeChild","_c","$RefreshReg$"],"sources":["C:/Users/yuvasri/OneDrive/Desktop/Digital lock product/reactapp/src/components/viewers/FileViewer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { documentAPI } from '../services/api';\n\nconst FileViewer = ({ file, isOpen, onClose }) => {\n    const [fileContent, setFileContent] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        if (isOpen && file) {\n            loadFileContent();\n        }\n    }, [isOpen, file]);\n\n    const loadFileContent = async () => {\n        setLoading(true);\n        setError(null);\n        \n        try {\n            const fileExtension = getFileExtension(file.name || file.fileName);\n            \n            // Check if user has access token\n            const token = localStorage.getItem('accessToken');\n            if (!token) {\n                throw new Error('Authentication required');\n            }\n            \n            // Use authenticated API call to get file content\n            const response = await documentAPI.downloadDocument(file.id);\n            \n            // Handle different response types\n            let blob;\n            if (response.data instanceof Blob) {\n                blob = response.data;\n            } else {\n                blob = new Blob([response.data]);\n            }\n            \n            const url = URL.createObjectURL(blob);\n            \n            setFileContent({ type: fileExtension, url, blob });\n        } catch (err) {\n            console.error('Error loading file:', err);\n            if (err.response?.status === 401) {\n                setError('Authentication failed. Please login again.');\n            } else if (err.response?.status === 403) {\n                setError('Access denied. You do not have permission to view this file.');\n            } else {\n                setError('Failed to load file content: ' + (err.message || 'Unknown error'));\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const getFileExtension = (fileName) => {\n        return fileName ? fileName.split('.').pop()?.toLowerCase() || '' : '';\n    };\n\n    const isPreviewable = (extension) => {\n        const previewableTypes = [\n            'jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp', // Images\n            'pdf', // PDF\n            'txt', 'md', 'json', 'xml', 'csv', // Text files\n        ];\n        return previewableTypes.includes(extension);\n    };\n\n    const renderFileContent = () => {\n        if (loading) {\n            return (\n                <div className=\"flex items-center justify-center h-96\">\n                    <div className=\"text-center\">\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n                        <p>Loading file...</p>\n                    </div>\n                </div>\n            );\n        }\n\n        if (error) {\n            return (\n                <div className=\"flex items-center justify-center h-96\">\n                    <div className=\"text-center text-red-600\">\n                        <p>{error}</p>\n                    </div>\n                </div>\n            );\n        }\n\n        if (!fileContent) return null;\n\n        const { type, url } = fileContent;\n\n        // Image preview\n        if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp'].includes(type)) {\n            return (\n                <div className=\"text-center\">\n                    <img \n                        src={url} \n                        alt={file.name || file.fileName}\n                        className=\"max-w-full max-h-96 mx-auto rounded-lg shadow-md\"\n                        style={{ objectFit: 'contain' }}\n                    />\n                </div>\n            );\n        }\n\n        // PDF preview\n        if (type === 'pdf') {\n            return (\n                <div className=\"w-full h-96\">\n                    <iframe\n                        src={`${url}#toolbar=1&navpanes=1&scrollbar=1`}\n                        className=\"w-full h-full border rounded-lg\"\n                        title={file.name || file.fileName}\n                    />\n                </div>\n            );\n        }\n\n        // Text file preview\n        if (['txt', 'md', 'json', 'xml', 'csv'].includes(type)) {\n            return (\n                <div className=\"bg-gray-50 p-4 rounded-lg h-96 overflow-auto\">\n                    <iframe\n                        src={url}\n                        className=\"w-full h-full border-0\"\n                        title={file.name || file.fileName}\n                        style={{ backgroundColor: 'white' }}\n                    />\n                </div>\n            );\n        }\n\n        // Download only files\n        if (type === 'download-only') {\n            return (\n                <div className=\"flex items-center justify-center h-96\">\n                    <div className=\"text-center text-gray-600\">\n                        <div className=\"text-6xl mb-4\">ðŸ“„</div>\n                        <p className=\"text-lg font-medium mb-4\">Preview not available</p>\n                        <p className=\"text-sm mb-4\">This file type cannot be previewed in browser.</p>\n                        <a \n                            href={url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition inline-block\"\n                        >\n                            Open/Download File\n                        </a>\n                    </div>\n                </div>\n            );\n        }\n        \n        // Not previewable\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center text-gray-600\">\n                    <div className=\"text-6xl mb-4\">ðŸ“„</div>\n                    <p className=\"text-lg font-medium mb-2\">Preview not available</p>\n                    <p className=\"text-sm\">This file type cannot be previewed. Please download to view.</p>\n                </div>\n            </div>\n        );\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n                {/* Header */}\n                <div className=\"p-4 border-b flex justify-between items-center bg-gray-50\">\n                    <div>\n                        <h3 className=\"text-lg font-semibold text-gray-800\">\n                            {file.name || file.fileName}\n                        </h3>\n                        <p className=\"text-sm text-gray-600\">\n                            {file.fileType} â€¢ {file.size ? `${(file.size / 1024).toFixed(1)} KB` : 'Unknown size'}\n                        </p>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-200 transition\"\n                    >\n                        <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"p-6 overflow-auto max-h-[calc(90vh-120px)]\">\n                    {renderFileContent()}\n                </div>\n\n                {/* Footer */}\n                <div className=\"p-4 border-t bg-gray-50 flex justify-end gap-3\">\n                    <button\n                        onClick={onClose}\n                        className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition\"\n                    >\n                        Close\n                    </button>\n                    <button\n                        onClick={() => {\n                            // Trigger download\n                            if (fileContent?.url) {\n                                const link = document.createElement('a');\n                                link.href = fileContent.url;\n                                link.download = file.name || file.fileName;\n                                document.body.appendChild(link);\n                                link.click();\n                                document.body.removeChild(link);\n                            }\n                        }}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\n                    >\n                        Download\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default FileViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}