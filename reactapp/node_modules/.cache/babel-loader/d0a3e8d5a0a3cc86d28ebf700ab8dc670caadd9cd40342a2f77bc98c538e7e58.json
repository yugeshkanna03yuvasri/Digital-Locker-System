{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../../contexts/AuthContext';import{COLORS,formatFileSize}from'./DashboardUtils';// SVG Icons\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const XIcon=_ref=>{let{className}=_ref;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})});};const TrashIcon=_ref2=>{let{className}=_ref2;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})});};const DownloadIcon=_ref3=>{let{className}=_ref3;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})});};const FileTextIcon=_ref4=>{let{className}=_ref4;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})});};const HistoryIcon=_ref5=>{let{className}=_ref5;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})});};const ZapIcon=_ref6=>{let{className}=_ref6;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 10V3L4 14h7v7l9-11h-7z\"})});};const FolderIcon=_ref7=>{let{className}=_ref7;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"})});};// Modal Component\nexport const Modal=_ref8=>{let{title,children,onClose,isOpen}=_ref8;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl max-w-lg w-full transform transition-all overflow-hidden\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 flex justify-between items-center border-b\",style:{backgroundColor:COLORS.lightSage},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",style:{color:COLORS.textColor},children:title}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-600 hover:text-red-500 p-2 rounded-full transition\",children:/*#__PURE__*/_jsx(XIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 max-h-[80vh] overflow-y-auto\",children:children})]})});};// New Folder Modal\nexport const NewFolderModal=_ref9=>{let{isOpen,onClose,onCreateFolder}=_ref9;const[folderName,setFolderName]=useState('');const handleSubmit=e=>{e.preventDefault();if(folderName.trim()){onCreateFolder(folderName.trim());setFolderName('');onClose();}};return/*#__PURE__*/_jsx(Modal,{title:\"Create New Folder\",isOpen:isOpen,onClose:onClose,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Folder Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:folderName,onChange:e=>setFolderName(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-500\",placeholder:\"Enter folder name\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 rounded-lg font-semibold text-white transition shadow-md\",style:{backgroundColor:COLORS.sage},disabled:!folderName.trim(),children:\"Create Folder\"})]})]})});};// Eye Icon for View\nconst EyeIcon=_ref0=>{let{className}=_ref0;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]});};// Edit Icon for Rename\nconst EditIcon=_ref1=>{let{className}=_ref1;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"})});};// File Detail Modal with Enhanced Features\nexport const FileDetailModal=_ref10=>{let{file,isOpen,onClose,onDeleteFile,onDownloadFile,onRenameFile,onViewFile}=_ref10;const[isDeleting,setIsDeleting]=useState(false);const[isRenaming,setIsRenaming]=useState(false);const[newFileName,setNewFileName]=useState('');const[activeTab,setActiveTab]=useState('details');const[activityHistory,setActivityHistory]=useState([]);// Initialize rename field when modal opens\nReact.useEffect(()=>{if(file&&isOpen){setNewFileName(file.name||file.fileName||'');// Load activity history for this file\nloadFileActivity();}},[file,isOpen]);if(!file)return null;const loadFileActivity=()=>{if(!file)return;// Mock activity data - in real app, fetch from backend\nconst mockActivity=[{id:1,action:'UPLOADED',timestamp:file.uploadedAt||file.uploadDate,user:'Current User'},{id:2,action:'VIEWED',timestamp:new Date().toISOString(),user:'Current User'}];setActivityHistory(mockActivity);};const handleDownload=()=>{onDownloadFile(file);};const handleView=()=>{if(onViewFile){onViewFile(file);}else{// Default view behavior - open in new tab\nif(file.fileUrl){window.open(file.fileUrl,'_blank');}else{alert('File preview not available');}}};const handleRename=async()=>{if(!newFileName.trim()||newFileName===(file.name||file.fileName)){setIsRenaming(false);return;}try{if(onRenameFile){await onRenameFile(file.id,newFileName.trim());}setIsRenaming(false);}catch(error){console.error('Failed to rename file:',error);alert('Failed to rename file');}};const confirmDelete=async()=>{if(!isDeleting){setIsDeleting(true);try{await onDeleteFile(file);onClose();}catch(error){console.error(\"Failed to delete file:\",error);}finally{setIsDeleting(false);}}};const getFileExtension=fileName=>{var _fileName$split$pop;return fileName?((_fileName$split$pop=fileName.split('.').pop())===null||_fileName$split$pop===void 0?void 0:_fileName$split$pop.toLowerCase())||'unknown':'unknown';};const getCorrectFileSize=()=>{const size=file.size||file.fileSize||0;return formatFileSize(size);};const getCorrectFileName=()=>{return file.name||file.fileName||'Unknown File';};const getCorrectFileType=()=>{const fileName=getCorrectFileName();const extension=getFileExtension(fileName);// Map extensions to readable types\nconst typeMap={'pdf':'PDF Document','doc':'Word Document','docx':'Word Document','xls':'Excel Spreadsheet','xlsx':'Excel Spreadsheet','ppt':'PowerPoint Presentation','pptx':'PowerPoint Presentation','jpg':'JPEG Image','jpeg':'JPEG Image','png':'PNG Image','gif':'GIF Image','txt':'Text File','zip':'ZIP Archive','rar':'RAR Archive','mp4':'MP4 Video','avi':'AVI Video','mp3':'MP3 Audio','wav':'WAV Audio'};return typeMap[extension]||file.fileType||\"\".concat(extension.toUpperCase(),\" File\");};return/*#__PURE__*/_jsx(Modal,{title:\"File Details\",isOpen:isOpen,onClose:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('details'),className:\"px-4 py-2 font-medium \".concat(activeTab==='details'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600'),children:\"Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('history'),className:\"px-4 py-2 font-medium \".concat(activeTab==='history'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600'),children:\"History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('activity'),className:\"px-4 py-2 font-medium \".concat(activeTab==='activity'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600'),children:\"Activity Logs\"})]}),activeTab==='details'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:isRenaming?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newFileName,onChange:e=>setNewFileName(e.target.value),className:\"text-sm border rounded px-2 py-1\",onKeyPress:e=>e.key==='Enter'&&handleRename(),autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRename,className:\"text-green-600 hover:text-green-800\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRenaming(false),className:\"text-red-600 hover:text-red-800\",children:\"\\u2715\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:getCorrectFileName()}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRenaming(true),className:\"text-blue-600 hover:text-blue-800\",title:\"Rename file\",children:/*#__PURE__*/_jsx(EditIcon,{className:\"h-4 w-4\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:getCorrectFileType()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Size\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:getCorrectFileSize()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"Upload Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:new Date(file.uploadedAt||file.uploadDate||Date.now()).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"File Extension\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm uppercase\",children:[\".\",getFileExtension(getCorrectFileName())]})]}),file.parentFolder&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm\",children:\"Location\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:file.parentFolder.name||'Root Folder'})]})]}),activeTab==='history'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-700\",children:\"File History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 max-h-60 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"File Uploaded\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:new Date(file.uploadedAt||file.uploadDate||Date.now()).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Last Accessed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:new Date().toLocaleString()})]})]})]}),activeTab==='activity'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-700\",children:\"Activity Logs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-60 overflow-y-auto\",children:activityHistory.map(activity=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:activity.action}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[\"by \",activity.user]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:new Date(activity.timestamp).toLocaleString()})]})},activity.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-4 border-t mt-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleView,className:\"flex items-center px-4 py-2 rounded-lg font-semibold text-white transition shadow-md bg-blue-500 hover:bg-blue-600\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5 mr-2\"}),\"View File\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:confirmDelete,disabled:isDeleting,className:\"flex items-center px-4 py-2 rounded-lg font-semibold text-white transition bg-red-500 hover:bg-red-600 shadow-md disabled:opacity-50\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-5 w-5 mr-2\"}),isDeleting?'Deleting...':'Delete']}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownload,className:\"flex items-center px-4 py-2 rounded-lg font-semibold text-white transition shadow-md\",style:{backgroundColor:COLORS.sage},children:[/*#__PURE__*/_jsx(DownloadIcon,{className:\"h-5 w-5 mr-2\"}),\"Download\"]})]})]})]})});};// Sidebar Component\nexport const Sidebar=_ref11=>{let{activeView,setActiveView}=_ref11;const{user}=useAuth();const navItems=[{name:'My Files',icon:FileTextIcon},{name:'History',icon:HistoryIcon},{name:'Activity Logs',icon:ZapIcon}];return/*#__PURE__*/_jsxs(\"aside\",{className:\"w-64 flex-shrink-0 text-gray-800 flex flex-col p-4 shadow-xl\",style:{backgroundColor:COLORS.sage},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-2xl font-bold mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FolderIcon,{className:\"h-7 w-7\"}),/*#__PURE__*/_jsx(\"span\",{children:\"File Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-xs mb-8 p-2 rounded-lg break-all\",style:{backgroundColor:COLORS.darkSage},children:[\"User: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-xs\",children:(user===null||user===void 0?void 0:user.email)||'Guest'})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-grow\",children:/*#__PURE__*/_jsx(\"ul\",{children:navItems.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveView(item.name),className:\"flex items-center gap-3 px-4 py-3 my-1 rounded-lg transition-colors duration-200 w-full text-left \".concat(activeView===item.name?'font-semibold shadow-md':'hover:text-white text-white'),style:{backgroundColor:activeView===item.name?COLORS.mint:'transparent',color:activeView===item.name?COLORS.mintText:'white'},children:[/*#__PURE__*/_jsx(item.icon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]})},item.name))})})]});};// Header Component\nexport const Header=_ref12=>{let{title,backendConnected}=_ref12;const{user}=useAuth();return/*#__PURE__*/_jsxs(\"header\",{className:\"bg-white sticky top-0 z-10 shadow-sm p-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold\",style:{color:COLORS.textColor},children:title}),!backendConnected&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full\",children:\"Offline Mode\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Welcome, \",(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.email)||'User']}),/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold\",style:{backgroundColor:COLORS.sage},children:((user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.email)||'U').charAt(0).toUpperCase()})]})]});};// File Icon Component with Better Type Detection\nexport const FileIconByType=_ref13=>{let{type,fileName}=_ref13;let iconClass=\"h-6 w-6 mr-3\";// Get file extension for better type detection\nconst getExtension=name=>{var _name$split$pop;if(!name)return'';return((_name$split$pop=name.split('.').pop())===null||_name$split$pop===void 0?void 0:_name$split$pop.toLowerCase())||'';};const extension=fileName?getExtension(fileName):'';// Enhanced type detection\nif(['jpg','jpeg','png','gif','bmp','svg','webp'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('image')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-blue-500\"),children:\"\\uD83D\\uDDBC\\uFE0F\"});}if(['pdf'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('pdf')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-red-500\"),children:\"\\uD83D\\uDCC4\"});}if(['doc','docx','txt','rtf'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('document')||type!==null&&type!==void 0&&type.toLowerCase().includes('word')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-green-600\"),children:\"\\uD83D\\uDCDD\"});}if(['xls','xlsx','csv'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('excel')||type!==null&&type!==void 0&&type.toLowerCase().includes('spreadsheet')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-green-700\"),children:\"\\uD83D\\uDCCA\"});}if(['ppt','pptx'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('powerpoint')||type!==null&&type!==void 0&&type.toLowerCase().includes('presentation')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-orange-600\"),children:\"\\uD83D\\uDCFD\\uFE0F\"});}if(['zip','rar','7z','tar','gz'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('archive')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-yellow-600\"),children:\"\\uD83D\\uDCE6\"});}if(['mp4','avi','mov','wmv','flv','webm'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('video')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-purple-600\"),children:\"\\uD83C\\uDFA5\"});}if(['mp3','wav','flac','aac','ogg'].includes(extension)||type!==null&&type!==void 0&&type.toLowerCase().includes('audio')){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(iconClass,\" text-pink-600\"),children:\"\\uD83C\\uDFB5\"});}return/*#__PURE__*/_jsx(FileTextIcon,{className:\"\".concat(iconClass,\" text-gray-500\")});};","map":{"version":3,"names":["React","useState","useAuth","COLORS","formatFileSize","jsx","_jsx","jsxs","_jsxs","XIcon","_ref","className","fill","viewBox","stroke","children","strokeLinecap","strokeLinejoin","strokeWidth","d","TrashIcon","_ref2","DownloadIcon","_ref3","FileTextIcon","_ref4","HistoryIcon","_ref5","ZapIcon","_ref6","FolderIcon","_ref7","Modal","_ref8","title","onClose","isOpen","onClick","e","stopPropagation","style","backgroundColor","lightSage","color","textColor","NewFolderModal","_ref9","onCreateFolder","folderName","setFolderName","handleSubmit","preventDefault","trim","onSubmit","type","value","onChange","target","placeholder","autoFocus","sage","disabled","EyeIcon","_ref0","EditIcon","_ref1","FileDetailModal","_ref10","file","onDeleteFile","onDownloadFile","onRenameFile","onViewFile","isDeleting","setIsDeleting","isRenaming","setIsRenaming","newFileName","setNewFileName","activeTab","setActiveTab","activityHistory","setActivityHistory","useEffect","name","fileName","loadFileActivity","mockActivity","id","action","timestamp","uploadedAt","uploadDate","user","Date","toISOString","handleDownload","handleView","fileUrl","window","open","alert","handleRename","error","console","confirmDelete","getFileExtension","_fileName$split$pop","split","pop","toLowerCase","getCorrectFileSize","size","fileSize","getCorrectFileName","getCorrectFileType","extension","typeMap","fileType","concat","toUpperCase","onKeyPress","key","now","toLocaleString","parentFolder","map","activity","Sidebar","_ref11","activeView","setActiveView","navItems","icon","darkSage","email","item","mint","mintText","Header","_ref12","backendConnected","charAt","FileIconByType","_ref13","iconClass","getExtension","_name$split$pop","includes"],"sources":["c:/Users/yuvasri/OneDrive/Desktop/Digital lock product/reactapp/src/components/dashboard/DashboardComponents.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { COLORS, formatFileSize } from './DashboardUtils';\n\n// SVG Icons\nconst XIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n    </svg>\n);\n\nconst TrashIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n    </svg>\n);\n\nconst DownloadIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n    </svg>\n);\n\nconst FileTextIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n    </svg>\n);\n\nconst HistoryIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n);\n\nconst ZapIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n    </svg>\n);\n\nconst FolderIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\n    </svg>\n);\n\n// Modal Component\nexport const Modal = ({ title, children, onClose, isOpen }) => {\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={onClose}>\n            <div \n                className=\"bg-white rounded-xl shadow-2xl max-w-lg w-full transform transition-all overflow-hidden\"\n                onClick={e => e.stopPropagation()}\n            >\n                <div className=\"p-4 flex justify-between items-center border-b\" style={{backgroundColor: COLORS.lightSage}}>\n                    <h3 className=\"text-xl font-semibold\" style={{color: COLORS.textColor}}>{title}</h3>\n                    <button onClick={onClose} className=\"text-gray-600 hover:text-red-500 p-2 rounded-full transition\">\n                        <XIcon className=\"h-6 w-6\" />\n                    </button>\n                </div>\n                <div className=\"p-6 max-h-[80vh] overflow-y-auto\">\n                    {children}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// New Folder Modal\nexport const NewFolderModal = ({ isOpen, onClose, onCreateFolder }) => {\n    const [folderName, setFolderName] = useState('');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (folderName.trim()) {\n            onCreateFolder(folderName.trim());\n            setFolderName('');\n            onClose();\n        }\n    };\n\n    return (\n        <Modal title=\"Create New Folder\" isOpen={isOpen} onClose={onClose}>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Folder Name\n                    </label>\n                    <input\n                        type=\"text\"\n                        value={folderName}\n                        onChange={(e) => setFolderName(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-500\"\n                        placeholder=\"Enter folder name\"\n                        autoFocus\n                    />\n                </div>\n                <div className=\"flex justify-end gap-3 pt-4\">\n                    <button\n                        type=\"button\"\n                        onClick={onClose}\n                        className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        type=\"submit\"\n                        className=\"px-4 py-2 rounded-lg font-semibold text-white transition shadow-md\"\n                        style={{backgroundColor: COLORS.sage}}\n                        disabled={!folderName.trim()}\n                    >\n                        Create Folder\n                    </button>\n                </div>\n            </form>\n        </Modal>\n    );\n};\n\n// Eye Icon for View\nconst EyeIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n    </svg>\n);\n\n// Edit Icon for Rename\nconst EditIcon = ({ className }) => (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n    </svg>\n);\n\n// File Detail Modal with Enhanced Features\nexport const FileDetailModal = ({ file, isOpen, onClose, onDeleteFile, onDownloadFile, onRenameFile, onViewFile }) => {\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [isRenaming, setIsRenaming] = useState(false);\n    const [newFileName, setNewFileName] = useState('');\n    const [activeTab, setActiveTab] = useState('details');\n    const [activityHistory, setActivityHistory] = useState([]);\n\n    // Initialize rename field when modal opens\n    React.useEffect(() => {\n        if (file && isOpen) {\n            setNewFileName(file.name || file.fileName || '');\n            // Load activity history for this file\n            loadFileActivity();\n        }\n    }, [file, isOpen]);\n\n    if (!file) return null;\n\n    const loadFileActivity = () => {\n        if (!file) return;\n        // Mock activity data - in real app, fetch from backend\n        const mockActivity = [\n            { id: 1, action: 'UPLOADED', timestamp: file.uploadedAt || file.uploadDate, user: 'Current User' },\n            { id: 2, action: 'VIEWED', timestamp: new Date().toISOString(), user: 'Current User' },\n        ];\n        setActivityHistory(mockActivity);\n    };\n\n    const handleDownload = () => {\n        onDownloadFile(file);\n    };\n\n    const handleView = () => {\n        if (onViewFile) {\n            onViewFile(file);\n        } else {\n            // Default view behavior - open in new tab\n            if (file.fileUrl) {\n                window.open(file.fileUrl, '_blank');\n            } else {\n                alert('File preview not available');\n            }\n        }\n    };\n\n    const handleRename = async () => {\n        if (!newFileName.trim() || newFileName === (file.name || file.fileName)) {\n            setIsRenaming(false);\n            return;\n        }\n        \n        try {\n            if (onRenameFile) {\n                await onRenameFile(file.id, newFileName.trim());\n            }\n            setIsRenaming(false);\n        } catch (error) {\n            console.error('Failed to rename file:', error);\n            alert('Failed to rename file');\n        }\n    };\n\n    const confirmDelete = async () => {\n        if (!isDeleting) {\n            setIsDeleting(true);\n            try {\n                await onDeleteFile(file);\n                onClose();\n            } catch (error) {\n                console.error(\"Failed to delete file:\", error);\n            } finally {\n                setIsDeleting(false);\n            }\n        }\n    };\n\n    const getFileExtension = (fileName) => {\n        return fileName ? fileName.split('.').pop()?.toLowerCase() || 'unknown' : 'unknown';\n    };\n\n    const getCorrectFileSize = () => {\n        const size = file.size || file.fileSize || 0;\n        return formatFileSize(size);\n    };\n\n    const getCorrectFileName = () => {\n        return file.name || file.fileName || 'Unknown File';\n    };\n\n    const getCorrectFileType = () => {\n        const fileName = getCorrectFileName();\n        const extension = getFileExtension(fileName);\n        \n        // Map extensions to readable types\n        const typeMap = {\n            'pdf': 'PDF Document',\n            'doc': 'Word Document', 'docx': 'Word Document',\n            'xls': 'Excel Spreadsheet', 'xlsx': 'Excel Spreadsheet',\n            'ppt': 'PowerPoint Presentation', 'pptx': 'PowerPoint Presentation',\n            'jpg': 'JPEG Image', 'jpeg': 'JPEG Image', 'png': 'PNG Image', 'gif': 'GIF Image',\n            'txt': 'Text File',\n            'zip': 'ZIP Archive', 'rar': 'RAR Archive',\n            'mp4': 'MP4 Video', 'avi': 'AVI Video',\n            'mp3': 'MP3 Audio', 'wav': 'WAV Audio'\n        };\n        \n        return typeMap[extension] || file.fileType || `${extension.toUpperCase()} File`;\n    };\n\n    return (\n        <Modal title={`File Details`} isOpen={isOpen} onClose={onClose}>\n            <div className=\"space-y-4\">\n                {/* Tab Navigation */}\n                <div className=\"flex border-b\">\n                    <button\n                        onClick={() => setActiveTab('details')}\n                        className={`px-4 py-2 font-medium ${activeTab === 'details' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'}`}\n                    >\n                        Details\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('history')}\n                        className={`px-4 py-2 font-medium ${activeTab === 'history' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'}`}\n                    >\n                        History\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('activity')}\n                        className={`px-4 py-2 font-medium ${activeTab === 'activity' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'}`}\n                    >\n                        Activity Logs\n                    </button>\n                </div>\n\n                {/* Tab Content */}\n                {activeTab === 'details' && (\n                    <div className=\"space-y-4\">\n                        {/* File Name with Rename */}\n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Name</p>\n                            <div className=\"flex items-center gap-2\">\n                                {isRenaming ? (\n                                    <div className=\"flex items-center gap-2\">\n                                        <input\n                                            type=\"text\"\n                                            value={newFileName}\n                                            onChange={(e) => setNewFileName(e.target.value)}\n                                            className=\"text-sm border rounded px-2 py-1\"\n                                            onKeyPress={(e) => e.key === 'Enter' && handleRename()}\n                                            autoFocus\n                                        />\n                                        <button onClick={handleRename} className=\"text-green-600 hover:text-green-800\">\n                                            ‚úì\n                                        </button>\n                                        <button onClick={() => setIsRenaming(false)} className=\"text-red-600 hover:text-red-800\">\n                                            ‚úï\n                                        </button>\n                                    </div>\n                                ) : (\n                                    <div className=\"flex items-center gap-2\">\n                                        <p className=\"text-sm\">{getCorrectFileName()}</p>\n                                        <button\n                                            onClick={() => setIsRenaming(true)}\n                                            className=\"text-blue-600 hover:text-blue-800\"\n                                            title=\"Rename file\"\n                                        >\n                                            <EditIcon className=\"h-4 w-4\" />\n                                        </button>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Type</p>\n                            <p className=\"text-sm\">{getCorrectFileType()}</p>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Size</p>\n                            <p className=\"text-sm\">{getCorrectFileSize()}</p>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">Upload Date</p>\n                            <p className=\"text-sm\">{new Date(file.uploadedAt || file.uploadDate || Date.now()).toLocaleString()}</p>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"font-semibold text-sm\">File Extension</p>\n                            <p className=\"text-sm uppercase\">.{getFileExtension(getCorrectFileName())}</p>\n                        </div>\n                        \n                        {file.parentFolder && (\n                            <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                                <p className=\"font-semibold text-sm\">Location</p>\n                                <p className=\"text-sm\">{file.parentFolder.name || 'Root Folder'}</p>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {activeTab === 'history' && (\n                    <div className=\"space-y-3\">\n                        <h4 className=\"font-semibold text-gray-700\">File History</h4>\n                        <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                            <div className=\"p-3 bg-gray-50 rounded-lg\">\n                                <p className=\"text-sm font-medium\">File Uploaded</p>\n                                <p className=\"text-xs text-gray-600\">{new Date(file.uploadedAt || file.uploadDate || Date.now()).toLocaleString()}</p>\n                            </div>\n                            <div className=\"p-3 bg-gray-50 rounded-lg\">\n                                <p className=\"text-sm font-medium\">Last Accessed</p>\n                                <p className=\"text-xs text-gray-600\">{new Date().toLocaleString()}</p>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {activeTab === 'activity' && (\n                    <div className=\"space-y-3\">\n                        <h4 className=\"font-semibold text-gray-700\">Activity Logs</h4>\n                        <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                            {activityHistory.map(activity => (\n                                <div key={activity.id} className=\"p-3 bg-gray-50 rounded-lg\">\n                                    <div className=\"flex justify-between items-start\">\n                                        <div>\n                                            <p className=\"text-sm font-medium\">{activity.action}</p>\n                                            <p className=\"text-xs text-gray-600\">by {activity.user}</p>\n                                        </div>\n                                        <p className=\"text-xs text-gray-500\">\n                                            {new Date(activity.timestamp).toLocaleString()}\n                                        </p>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {/* Action Buttons */}\n                <div className=\"flex justify-between pt-4 border-t mt-6\">\n                    <button\n                        onClick={handleView}\n                        className=\"flex items-center px-4 py-2 rounded-lg font-semibold text-white transition shadow-md bg-blue-500 hover:bg-blue-600\"\n                    >\n                        <EyeIcon className=\"h-5 w-5 mr-2\" />\n                        View File\n                    </button>\n                    \n                    <div className=\"flex gap-3\">\n                        <button\n                            onClick={confirmDelete}\n                            disabled={isDeleting}\n                            className=\"flex items-center px-4 py-2 rounded-lg font-semibold text-white transition bg-red-500 hover:bg-red-600 shadow-md disabled:opacity-50\"\n                        >\n                            <TrashIcon className=\"h-5 w-5 mr-2\" />\n                            {isDeleting ? 'Deleting...' : 'Delete'}\n                        </button>\n                        <button\n                            onClick={handleDownload}\n                            className=\"flex items-center px-4 py-2 rounded-lg font-semibold text-white transition shadow-md\"\n                            style={{backgroundColor: COLORS.sage}}\n                        >\n                            <DownloadIcon className=\"h-5 w-5 mr-2\" />\n                            Download\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\n// Sidebar Component\nexport const Sidebar = ({ activeView, setActiveView }) => {\n    const { user } = useAuth();\n\n    const navItems = [\n        { name: 'My Files', icon: FileTextIcon },\n        { name: 'History', icon: HistoryIcon },\n        { name: 'Activity Logs', icon: ZapIcon },\n    ];\n    \n    return (\n        <aside className=\"w-64 flex-shrink-0 text-gray-800 flex flex-col p-4 shadow-xl\" style={{backgroundColor: COLORS.sage}}>\n            <div className=\"text-white text-2xl font-bold mb-6 flex items-center gap-2\">\n                <FolderIcon className=\"h-7 w-7\" />\n                <span>File Dashboard</span>\n            </div>\n            <div className=\"text-white text-xs mb-8 p-2 rounded-lg break-all\" style={{backgroundColor: COLORS.darkSage}}>\n                User: <span className=\"font-mono text-xs\">{user?.email || 'Guest'}</span>\n            </div>\n            <nav className=\"flex-grow\">\n                <ul>\n                    {navItems.map(item => (\n                        <li key={item.name}>\n                            <button\n                                onClick={() => setActiveView(item.name)}\n                                className={`flex items-center gap-3 px-4 py-3 my-1 rounded-lg transition-colors duration-200 w-full text-left ${\n                                    activeView === item.name\n                                        ? 'font-semibold shadow-md'\n                                        : 'hover:text-white text-white'\n                                }`}\n                                style={{\n                                    backgroundColor: activeView === item.name ? COLORS.mint : 'transparent',\n                                    color: activeView === item.name ? COLORS.mintText : 'white'\n                                }}\n                            >\n                                <item.icon className=\"h-5 w-5\"/>\n                                <span>{item.name}</span>\n                            </button>\n                        </li>\n                    ))}\n                </ul>\n            </nav>\n        </aside>\n    );\n};\n\n// Header Component\nexport const Header = ({ title, backendConnected }) => {\n    const { user } = useAuth();\n    \n    return (\n        <header className=\"bg-white sticky top-0 z-10 shadow-sm p-4 flex justify-between items-center\">\n            <div className=\"flex items-center gap-4\">\n                <h1 className=\"text-2xl font-semibold\" style={{color: COLORS.textColor}}>{title}</h1>\n                {!backendConnected && (\n                    <span className=\"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full\">\n                        Offline Mode\n                    </span>\n                )}\n            </div>\n            <div className=\"flex items-center gap-4\">\n                <div className=\"text-sm text-gray-600\">\n                    Welcome, {user?.name || user?.email || 'User'}\n                </div>\n                <div className=\"h-10 w-10 rounded-full flex items-center justify-center text-white font-semibold\" style={{backgroundColor: COLORS.sage}}>\n                    {(user?.name || user?.email || 'U').charAt(0).toUpperCase()}\n                </div>\n            </div>\n        </header>\n    );\n};\n\n// File Icon Component with Better Type Detection\nexport const FileIconByType = ({ type, fileName }) => {\n    let iconClass = \"h-6 w-6 mr-3\";\n    \n    // Get file extension for better type detection\n    const getExtension = (name) => {\n        if (!name) return '';\n        return name.split('.').pop()?.toLowerCase() || '';\n    };\n    \n    const extension = fileName ? getExtension(fileName) : '';\n    \n    // Enhanced type detection\n    if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'svg', 'webp'].includes(extension) || type?.toLowerCase().includes('image')) {\n        return <div className={`${iconClass} text-blue-500`}>üñºÔ∏è</div>;\n    }\n    if (['pdf'].includes(extension) || type?.toLowerCase().includes('pdf')) {\n        return <div className={`${iconClass} text-red-500`}>üìÑ</div>;\n    }\n    if (['doc', 'docx', 'txt', 'rtf'].includes(extension) || type?.toLowerCase().includes('document') || type?.toLowerCase().includes('word')) {\n        return <div className={`${iconClass} text-green-600`}>üìù</div>;\n    }\n    if (['xls', 'xlsx', 'csv'].includes(extension) || type?.toLowerCase().includes('excel') || type?.toLowerCase().includes('spreadsheet')) {\n        return <div className={`${iconClass} text-green-700`}>üìä</div>;\n    }\n    if (['ppt', 'pptx'].includes(extension) || type?.toLowerCase().includes('powerpoint') || type?.toLowerCase().includes('presentation')) {\n        return <div className={`${iconClass} text-orange-600`}>üìΩÔ∏è</div>;\n    }\n    if (['zip', 'rar', '7z', 'tar', 'gz'].includes(extension) || type?.toLowerCase().includes('archive')) {\n        return <div className={`${iconClass} text-yellow-600`}>üì¶</div>;\n    }\n    if (['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm'].includes(extension) || type?.toLowerCase().includes('video')) {\n        return <div className={`${iconClass} text-purple-600`}>üé•</div>;\n    }\n    if (['mp3', 'wav', 'flac', 'aac', 'ogg'].includes(extension) || type?.toLowerCase().includes('audio')) {\n        return <div className={`${iconClass} text-pink-600`}>üéµ</div>;\n    }\n    \n    return <FileTextIcon className={`${iconClass} text-gray-500`} />;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}